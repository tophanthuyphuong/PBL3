@model IEnumerable<PBL3.Models.KhuyenMai>

@{
    ViewBag.Title = "Danh sách khuyến mãi";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h2>Danh sách khuyến mãi</h2>

<p>
    <div class="col-md-offset-2 text-right">
        <a href="/Admin/KhuyenMais/Create" class="btn btn-sm btn-info"> <i class="fa-solid fa-plus"></i> Thêm mới</a>
    </div>
</p>
<table class="table mt-3" style="border: 2px solid">
    <tr style="background-color: aliceblue">
        <th>
            Thời gian bắt đầu
        </th>
        <th>
            Thời gian kết thúc
        </th>
        <th>
            Nội dung khuyến mãi
        </th>
        <th>
            Loại khuyến mãi
        </th>
        <th>
            Trạng thái
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.BatDauKM)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.KetThucKM)
        </td>
        <td>
            @if(item.LoaiKM == 0)
                {
                    <div>@String.Format("{0:N0}đ", Convert.ToInt32(item.NoiDungKM))</div>
                }
            else
                {
                    <div>@item.NoiDungKM%</div>
                }
        </td>
        <td>
            @if(item.LoaiKM == 0)
                {
                    <div>Giảm trực tiếp</div>
            }
            else
                {
                    <div>Theo phần trăm</div>
                }
        </td>
        <td>
            @if (item.Status == 0)
            {<div>Đã hết hạn</div> }
            else
            {<div>Tồn tại</div>}
        </td>
        <td>
            <a href="/Admin/KhuyenMais/Edit/@item.ID_KM" class="btn btn-sm btn-info"> <i class="fa-solid fa-pen-to-square"></i></a>
            <a href="/Admin/KhuyenMais/Trash/@item.ID_KM" class="btn btn-sm btn-danger "><i class="fa-solid fa-trash"></i></a>
        </td>
    </tr>
}

</table>
